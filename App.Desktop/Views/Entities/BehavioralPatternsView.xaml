<UserControl x:Class="Lazarus.Desktop.Views.Entities.BehavioralPatternsView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 mc:Ignorable="d"
			 Background="{DynamicResource PrimaryDarkBrush}">
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="320" MinWidth="220"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="300" MinWidth="200"/>
		</Grid.ColumnDefinitions>

		<!-- Left Panel: Personality Configuration -->
		<Border Grid.Column="0"
				Background="{DynamicResource SecondaryDarkBrush}"
				CornerRadius="8,0,0,8"
				Margin="8,8,4,8">
			<ScrollViewer VerticalScrollBarVisibility="Auto">
				<StackPanel Margin="12">
					<TextBlock Text="Personality Architecture"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   FontSize="18"
							   FontWeight="Bold"
							   Margin="0,0,0,16"/>

					<!-- Conversational Styles -->
					<TextBlock Text="Conversational Style"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   FontSize="14"
							   FontWeight="Bold"
							   Margin="0,0,0,8"/>
					
					<ComboBox SelectedValue="{Binding SelectedConversationalStyle}"
							  Style="{StaticResource DarkComboBoxStyle}"
							  Margin="0,0,0,8"
							  ToolTip="Select base conversational approach">
						<ComboBoxItem Content="Formal Academic" IsSelected="True"/>
						<ComboBoxItem Content="Casual Friend"/>
						<ComboBoxItem Content="Professional Assistant"/>
						<ComboBoxItem Content="Creative Partner"/>
						<ComboBoxItem Content="Wise Mentor"/>
						<ComboBoxItem Content="Enthusiastic Supporter"/>
						<ComboBoxItem Content="Analytical Thinker"/>
						<ComboBoxItem Content="Custom Style"/>
					</ComboBox>

					<!-- Custom Style Editor -->
					<Border Background="{DynamicResource TertiaryDarkBrush}"
							CornerRadius="4"
							Padding="8"
							Margin="0,0,0,12"
							Visibility="{Binding IsCustomStyle, Converter={StaticResource BooleanToVisibilityConverter}}">
						<StackPanel>
							<TextBlock Text="Custom Style Description:"
									   Foreground="{DynamicResource TextPrimaryBrush}"
									   FontSize="12"
									   Margin="0,0,0,4"/>
							<TextBox Text="{Binding CustomStyleDescription}"
									 Height="60"
									 TextWrapping="Wrap"
									 AcceptsReturn="True"
									 Background="{DynamicResource PrimaryDarkBrush}"
									 Foreground="{DynamicResource TextPrimaryBrush}"
									 BorderBrush="{DynamicResource BorderBrush}"/>
						</StackPanel>
					</Border>

					<!-- Emotional Framework -->
					<TextBlock Text="Emotional Framework"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   FontSize="14"
							   FontWeight="Bold"
							   Margin="0,8,0,8"/>

					<!-- Empathy -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,8">
						<TextBlock Text="Empathy:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider Value="{Binding EmpathyLevel}"
								Minimum="0"
								Maximum="10"
								Width="160"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding EmpathyLevel, StringFormat=F0}"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="25"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Curiosity -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,8">
						<TextBlock Text="Curiosity:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider Value="{Binding CuriosityLevel}"
								Minimum="0"
								Maximum="10"
								Width="160"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding CuriosityLevel, StringFormat=F0}"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="25"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Assertiveness -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,8">
						<TextBlock Text="Assertiveness:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider Value="{Binding AssertivenessLevel}"
								Minimum="0"
								Maximum="10"
								Width="160"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding AssertivenessLevel, StringFormat=F0}"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="25"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Humor -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,8">
						<TextBlock Text="Humor:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider Value="{Binding HumorLevel}"
								Minimum="0"
								Maximum="10"
								Width="160"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding HumorLevel, StringFormat=F0}"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="25"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Formality -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="Formality:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider Value="{Binding FormalityLevel}"
								Minimum="0"
								Maximum="10"
								Width="160"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding FormalityLevel, StringFormat=F0}"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="25"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Memory Configuration -->
					<TextBlock Text="Memory Priorities"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   FontSize="14"
							   FontWeight="Bold"
							   Margin="0,8,0,8"/>

					<StackPanel Margin="0,0,0,12">
						<CheckBox Content="Personal Details"
								  IsChecked="{Binding RememberPersonalDetails}"
								  Foreground="{DynamicResource TextPrimaryBrush}"
								  Margin="0,2"/>
						<CheckBox Content="Conversation History"
								  IsChecked="{Binding RememberConversationHistory}"
								  Foreground="{DynamicResource TextPrimaryBrush}"
								  Margin="0,2"/>
						<CheckBox Content="User Preferences"
								  IsChecked="{Binding RememberPreferences}"
								  Foreground="{DynamicResource TextPrimaryBrush}"
								  Margin="0,2"/>
						<CheckBox Content="Technical Knowledge"
								  IsChecked="{Binding RememberTechnicalKnowledge}"
								  Foreground="{DynamicResource TextPrimaryBrush}"
								  Margin="0,2"/>
						<CheckBox Content="Creative Works"
								  IsChecked="{Binding RememberCreativeWorks}"
								  Foreground="{DynamicResource TextPrimaryBrush}"
								  Margin="0,2"/>
					</StackPanel>

					<!-- Apply Changes Button -->
					<Button Content="Apply Behavioral Changes"
							Command="{Binding ApplyChangesCommand}"
							Style="{StaticResource PrimaryButtonStyle}"
							Height="40"
							MinWidth="200"
							Padding="12,4"
							Margin="0,8,0,0"
							ToolTip="Apply behavioral pattern changes to entity"/>
				</StackPanel>
			</ScrollViewer>
		</Border>

		<!-- Left Splitter -->
		<GridSplitter Grid.Column="0"
					  Width="4"
					  Background="{DynamicResource BorderBrush}"
					  HorizontalAlignment="Right"
					  VerticalAlignment="Stretch"/>

		<!-- Center: Response Patterns & Preview -->
		<Border Grid.Column="1"
				Background="{DynamicResource TertiaryDarkBrush}"
				Margin="0,8">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<TextBlock Grid.Row="0"
						   Text="Response Patterns"
						   Foreground="{DynamicResource TextPrimaryBrush}"
						   FontSize="16"
						   FontWeight="Bold"
						   HorizontalAlignment="Center"
						   Margin="0,12,0,12"/>

				<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
					<StackPanel Margin="20">
						<!-- Greeting Styles -->
						<TextBlock Text="Greeting Style:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   FontWeight="Bold"
								   Margin="0,0,0,4"/>
						<TextBox Text="{Binding GreetingStyle}"
								 Height="80"
								 TextWrapping="Wrap"
								 AcceptsReturn="True"
								 Background="{DynamicResource SecondaryDarkBrush}"
								 Foreground="{DynamicResource TextPrimaryBrush}"
								 BorderBrush="{DynamicResource BorderBrush}"
								 Margin="0,0,0,16"
								 ToolTip="Define how the entity greets users"/>

						<!-- Conflict Resolution -->
						<TextBlock Text="Conflict Resolution:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   FontWeight="Bold"
								   Margin="0,0,0,4"/>
						<TextBox Text="{Binding ConflictResolution}"
								 Height="80"
								 TextWrapping="Wrap"
								 AcceptsReturn="True"
								 Background="{DynamicResource SecondaryDarkBrush}"
								 Foreground="{DynamicResource TextPrimaryBrush}"
								 BorderBrush="{DynamicResource BorderBrush}"
								 Margin="0,0,0,16"
								 ToolTip="Define how the entity handles disagreements"/>

						<!-- Topic Transitions -->
						<TextBlock Text="Topic Transitions:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   FontWeight="Bold"
								   Margin="0,0,0,4"/>
						<TextBox Text="{Binding TopicTransitions}"
								 Height="80"
								 TextWrapping="Wrap"
								 AcceptsReturn="True"
								 Background="{DynamicResource SecondaryDarkBrush}"
								 Foreground="{DynamicResource TextPrimaryBrush}"
								 BorderBrush="{DynamicResource BorderBrush}"
								 Margin="0,0,0,16"
								 ToolTip="Define how the entity changes subjects"/>

						<!-- Custom Behavioral Script -->
						<TextBlock Text="Custom Behavioral Script:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   FontWeight="Bold"
								   Margin="0,0,0,4"/>
						<TextBox Text="{Binding CustomBehavioralScript}"
								 Height="120"
								 TextWrapping="Wrap"
								 AcceptsReturn="True"
								 Background="{DynamicResource SecondaryDarkBrush}"
								 Foreground="{DynamicResource TextPrimaryBrush}"
								 BorderBrush="{DynamicResource BorderBrush}"
								 Margin="0,0,0,16"
								 ToolTip="Advanced behavioral scripting for entity responses"/>
					</StackPanel>
				</ScrollViewer>

				<!-- Preview Controls -->
				<StackPanel Grid.Row="2"
							Orientation="Horizontal"
							HorizontalAlignment="Center"
							Margin="0,0,0,12">
					<Button Content="ðŸŽ­ Preview Personality"
							Command="{Binding PreviewPersonalityCommand}"
							Style="{StaticResource SecondaryButtonStyle}"
							MinWidth="140"
							Height="36"
							Padding="12,4"
							Margin="4"
							ToolTip="Preview how the entity would behave"/>
					<Button Content="ðŸ’¾ Save Patterns"
							Command="{Binding SavePatternsCommand}"
							Style="{StaticResource SecondaryButtonStyle}"
							MinWidth="120"
							Height="36"
							Padding="12,4"
							Margin="4"
							ToolTip="Save behavioral pattern configuration"/>
					<Button Content="ðŸ”„ Reset to Default"
							Command="{Binding ResetToDefaultCommand}"
							Style="{StaticResource SecondaryButtonStyle}"
							MinWidth="120"
							Height="36"
							Padding="12,4"
							Margin="4"
							ToolTip="Reset all patterns to default values"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Right Splitter -->
		<GridSplitter Grid.Column="1"
					  Width="4"
					  Background="{DynamicResource BorderBrush}"
					  HorizontalAlignment="Right"
					  VerticalAlignment="Stretch"/>

		<!-- Right Panel: Personality Quirks & Ethics -->
		<Border Grid.Column="2"
				Background="{DynamicResource SecondaryDarkBrush}"
				CornerRadius="0,8,8,0"
				Margin="4,8,8,8">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<!-- Personality Quirks -->
				<TextBlock Grid.Row="0"
						   Text="Personality Quirks"
						   Foreground="{DynamicResource TextPrimaryBrush}"
						   FontSize="14"
						   FontWeight="Bold"
						   Margin="12,12,12,8"/>

				<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
					<StackPanel Margin="12,0">
						<ListBox ItemsSource="{Binding PersonalityQuirks}"
								 Background="Transparent"
								 BorderThickness="0">
							<ListBox.ItemTemplate>
								<DataTemplate>
									<Border Background="{DynamicResource TertiaryDarkBrush}"
											CornerRadius="4"
											Margin="0,2"
											Padding="8">
										<Grid>
											<Grid.ColumnDefinitions>
												<ColumnDefinition Width="*"/>
												<ColumnDefinition Width="Auto"/>
												<ColumnDefinition Width="Auto"/>
											</Grid.ColumnDefinitions>
											
											<StackPanel Grid.Column="0">
												<TextBlock Text="{Binding Name}"
														   Foreground="{DynamicResource TextPrimaryBrush}"
														   FontSize="12"
														   FontWeight="Bold"/>
												<StackPanel Orientation="Horizontal" Margin="0,4,0,0">
													<TextBlock Text="Intensity:"
															   Foreground="{DynamicResource TextSecondaryBrush}"
															   FontSize="10"
															   VerticalAlignment="Center"
															   Width="50"/>
													<Slider Value="{Binding Intensity}"
															Minimum="1"
															Maximum="10"
															Width="80"
															VerticalAlignment="Center"/>
													<TextBlock Text="{Binding Intensity, StringFormat=F0}"
															   Foreground="{DynamicResource TextSecondaryBrush}"
															   FontSize="10"
															   VerticalAlignment="Center"
															   Width="20"
															   Margin="4,0,0,0"/>
												</StackPanel>
											</StackPanel>
											
											<Button Grid.Column="1"
													Content="âœï¸"
													Command="{Binding DataContext.EditQuirkCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
													CommandParameter="{Binding}"
													Style="{StaticResource SecondaryButtonStyle}"
													Width="24"
													Height="24"
													Margin="4,0"
													ToolTip="Edit quirk"/>
											<Button Grid.Column="2"
													Content="âŒ"
													Command="{Binding DataContext.RemoveQuirkCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
													CommandParameter="{Binding}"
													Style="{StaticResource SecondaryButtonStyle}"
													Width="24"
													Height="24"
													ToolTip="Remove quirk"/>
										</Grid>
									</Border>
								</DataTemplate>
							</ListBox.ItemTemplate>
						</ListBox>
						
						<Button Content="âž• Add Personality Quirk"
								Command="{Binding AddQuirkCommand}"
								Style="{StaticResource SecondaryButtonStyle}"
								Height="28"
								MinWidth="160"
								Padding="8,4"
								Margin="0,8,0,0"
								ToolTip="Add new personality quirk"/>
					</StackPanel>
				</ScrollViewer>

				<!-- Ethical Boundaries -->
				<TextBlock Grid.Row="2"
						   Text="Ethical Boundaries"
						   Foreground="{DynamicResource TextPrimaryBrush}"
						   FontSize="14"
						   FontWeight="Bold"
						   Margin="12,16,12,8"/>

				<StackPanel Grid.Row="3" Margin="12,0,12,12">
					<StackPanel Orientation="Horizontal" Margin="0,4">
						<TextBlock Text="Content Filtering:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="100"
								   VerticalAlignment="Center"/>
						<ToggleButton IsChecked="{Binding ContentFilteringEnabled}"
									  Width="60"
									  Height="25"
									  ToolTip="Enable/disable content filtering"/>
					</StackPanel>
					
					<StackPanel Orientation="Horizontal" Margin="0,4">
						<TextBlock Text="Harm Prevention:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="100"
								   VerticalAlignment="Center"/>
						<ToggleButton IsChecked="{Binding HarmPreventionEnabled}"
									  Width="60"
									  Height="25"
									  ToolTip="Enable/disable harm prevention protocols"/>
					</StackPanel>
					
					<StackPanel Orientation="Horizontal" Margin="0,4">
						<TextBlock Text="Privacy Protection:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="100"
								   VerticalAlignment="Center"/>
						<ToggleButton IsChecked="{Binding PrivacyProtectionEnabled}"
									  Width="60"
									  Height="25"
									  ToolTip="Enable/disable privacy protection measures"/>
					</StackPanel>
					
					<StackPanel Orientation="Horizontal" Margin="0,4">
						<TextBlock Text="Truthfulness:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="100"
								   VerticalAlignment="Center"/>
						<ToggleButton IsChecked="{Binding TruthfulnessEnabled}"
									  Width="60"
									  Height="25"
									  ToolTip="Enforce truthfulness in responses"/>
					</StackPanel>
				</StackPanel>
			</Grid>
		</Border>
	</Grid>
</UserControl>