<UserControl x:Class="Lazarus.Desktop.Views.Video.Video2VideoView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 mc:Ignorable="d"
			 Background="{DynamicResource PrimaryDarkBrush}">
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="300" MinWidth="200"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="300" MinWidth="200"/>
		</Grid.ColumnDefinitions>

		<!-- Left Panel: Video2Video Controls -->
		<Border Grid.Column="0"
				Background="{DynamicResource SecondaryDarkBrush}"
				CornerRadius="8,0,0,8"
				Margin="8,8,4,8">
			<ScrollViewer VerticalScrollBarVisibility="Auto">
				<StackPanel Margin="12">
					<TextBlock Text="Video to Video"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   FontSize="18"
							   FontWeight="Bold"
							   Margin="0,0,0,16"/>

					<!-- Source Video -->
					<TextBlock Text="Source Video:"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   Margin="0,0,0,4"/>
					<Border Background="{DynamicResource TertiaryDarkBrush}"
							Height="100"
							CornerRadius="4"
							Margin="0,0,0,8">
						<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
							<TextBlock Text="ðŸŽ¬ Drop video here"
									   Foreground="{DynamicResource TextSecondaryBrush}"
									   HorizontalAlignment="Center"/>
							<Button Content="Browse..."
									Command="{Binding BrowseVideoCommand}"
									Style="{StaticResource SecondaryButtonStyle}"
									Margin="0,8,0,0"
									Height="32"
									MinWidth="100"
									Padding="12,4"/>
						</StackPanel>
					</Border>

					<!-- Prompt -->
					<TextBlock Text="Transformation Prompt:"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   Margin="0,0,0,4"/>
					<TextBox Text="{Binding Prompt, UpdateSourceTrigger=PropertyChanged}"
							 Height="80"
							 TextWrapping="Wrap"
							 AcceptsReturn="True"
							 Background="{DynamicResource TertiaryDarkBrush}"
							 Foreground="{DynamicResource TextPrimaryBrush}"
							 BorderBrush="{DynamicResource BorderBrush}"
							 Margin="0,0,0,12"/>

					<!-- Generate Button -->
					<Button Content="Transform Video"
							Command="{Binding GenerateCommand}"
							Style="{StaticResource PrimaryButtonStyle}"
							Height="40"
							Margin="0,0,0,16"/>

					<!-- Transformation Settings -->
					<TextBlock Text="Settings"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   FontSize="14"
							   FontWeight="Bold"
							   Margin="0,0,0,8"/>

					<!-- Strength -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="Strength:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider Value="{Binding Strength}"
								Minimum="0.1"
								Maximum="1.0"
								Width="140"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding Strength, StringFormat=F2}"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Width="50"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Style Transfer -->
					<StackPanel Margin="0,0,0,12">
						<TextBlock Text="Style Transfer:"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   Margin="0,0,0,6"/>
						<ComboBox SelectedValue="{Binding StyleMode}"
								  Style="{StaticResource DarkComboBoxStyle}"
								  Height="32">
							<ComboBoxItem Content="None" IsSelected="True"/>
							<ComboBoxItem Content="Anime"/>
							<ComboBoxItem Content="Oil Painting"/>
							<ComboBoxItem Content="Photorealistic"/>
							<ComboBoxItem Content="Cartoon"/>
						</ComboBox>
					</StackPanel>
				</StackPanel>
			</ScrollViewer>
		</Border>

		<!-- Left Splitter -->
		<GridSplitter Grid.Column="0"
					  Width="4"
					  Background="{DynamicResource BorderBrush}"
					  HorizontalAlignment="Right"
					  VerticalAlignment="Stretch"/>

		<!-- Center: Video Comparison -->
		<Border Grid.Column="1"
				Background="{DynamicResource TertiaryDarkBrush}"
				Margin="0,8">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<TextBlock Grid.Row="0"
						   Text="Video Transformation"
						   Foreground="{DynamicResource TextPrimaryBrush}"
						   FontSize="16"
						   FontWeight="Bold"
						   HorizontalAlignment="Center"
						   Margin="0,12,0,12"/>

				<Grid Grid.Row="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>

					<!-- Original Video -->
					<StackPanel Grid.Column="0" Margin="8">
						<TextBlock Text="Original"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   HorizontalAlignment="Center"
								   Margin="0,0,0,8"/>
						<Border Background="{DynamicResource SecondaryDarkBrush}"
								Height="200"
								CornerRadius="8">
							<TextBlock Text="ðŸŽ¬ Source Video"
									   Foreground="{DynamicResource TextPrimaryBrush}"
									   HorizontalAlignment="Center"
									   VerticalAlignment="Center"/>
						</Border>
					</StackPanel>

					<!-- Transformed Video -->
					<StackPanel Grid.Column="1" Margin="8">
						<TextBlock Text="Transformed"
								   Foreground="{DynamicResource TextPrimaryBrush}"
								   HorizontalAlignment="Center"
								   Margin="0,0,0,8"/>
						<Border Background="{DynamicResource SecondaryDarkBrush}"
								Height="200"
								CornerRadius="8">
							<Grid>
								<TextBlock Text="ðŸŽ¬ Result"
										   Foreground="{DynamicResource TextPrimaryBrush}"
										   HorizontalAlignment="Center"
										   VerticalAlignment="Center"
										   Visibility="{Binding HasResult, Converter={StaticResource BooleanToVisibilityConverter}}"/>
								<TextBlock Text="Transformed video will appear here"
										   Foreground="{DynamicResource TextSecondaryBrush}"
										   HorizontalAlignment="Center"
										   VerticalAlignment="Center"
										   Visibility="{Binding HasResult, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
							</Grid>
						</Border>
					</StackPanel>
				</Grid>

				<!-- Progress -->
				<StackPanel Grid.Row="2"
							HorizontalAlignment="Center"
							Margin="0,12"
							Visibility="{Binding IsGenerating, Converter={StaticResource BooleanToVisibilityConverter}}">
					<ProgressBar IsIndeterminate="True"
								 Height="4"
								 Width="300"/>
					<TextBlock Text="{Binding GenerationStatus}"
							   Foreground="{DynamicResource TextPrimaryBrush}"
							   HorizontalAlignment="Center"
							   Margin="0,8,0,0"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Right Splitter -->
		<GridSplitter Grid.Column="1"
					  Width="4"
					  Background="{DynamicResource BorderBrush}"
					  HorizontalAlignment="Right"
					  VerticalAlignment="Stretch"/>

		<!-- Right Panel: History -->
		<Border Grid.Column="2"
				Background="{DynamicResource SecondaryDarkBrush}"
				CornerRadius="0,8,8,0"
				Margin="4,8,8,8">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>

				<TextBlock Grid.Row="0"
						   Text="Transformation History"
						   Foreground="{DynamicResource TextPrimaryBrush}"
						   FontSize="14"
						   FontWeight="Bold"
						   Margin="12,12,12,8"/>

				<ListBox Grid.Row="1"
						 ItemsSource="{Binding TransformationHistory}"
						 Background="Transparent"
						 BorderThickness="0"
						 Margin="12,0">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<Border Background="{DynamicResource TertiaryDarkBrush}"
									CornerRadius="4"
									Margin="0,2"
									Padding="8">
								<StackPanel>
									<TextBlock Text="{Binding Prompt}"
											   Foreground="{DynamicResource TextPrimaryBrush}"
											   TextWrapping="Wrap"
											   FontSize="11"/>
									<TextBlock Text="{Binding Timestamp}"
											   Foreground="{DynamicResource TextSecondaryBrush}"
											   FontSize="10"
											   Margin="0,4,0,0"/>
								</StackPanel>
							</Border>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>
		</Border>
	</Grid>
</UserControl>