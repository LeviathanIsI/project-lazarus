<UserControl x:Class="Lazarus.Desktop.Views.Video.Text2VideoView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 mc:Ignorable="d"
			 Background="{StaticResource PrimaryDarkBrush}">
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="300" MinWidth="200"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="300" MinWidth="200"/>
		</Grid.ColumnDefinitions>

		<!-- Left Panel: Text2Video Controls -->
		<Border Grid.Column="0"
				Background="{StaticResource SecondaryDarkBrush}"
				CornerRadius="8,0,0,8"
				Margin="8,8,4,8">
			<ScrollViewer VerticalScrollBarVisibility="Auto">
				<StackPanel Margin="12">
					<TextBlock Text="Text to Video"
							   Foreground="{StaticResource TextPrimaryBrush}"
							   FontSize="18"
							   FontWeight="Bold"
							   Margin="0,0,0,16"/>

					<!-- Prompt -->
					<TextBlock Text="Prompt:"
							   Foreground="{StaticResource TextPrimaryBrush}"
							   Margin="0,0,0,4"/>
					<TextBox x:Name="PromptTextBox"
							 Text="{Binding Prompt, UpdateSourceTrigger=PropertyChanged}"
							 Height="80"
							 TextWrapping="Wrap"
							 AcceptsReturn="True"
							 Background="{StaticResource TertiaryDarkBrush}"
							 Foreground="{StaticResource TextPrimaryBrush}"
							 BorderBrush="{StaticResource BorderBrush}"
							 Margin="0,0,0,12"/>

					<!-- Negative Prompt -->
					<TextBlock Text="Negative Prompt:"
							   Foreground="{StaticResource TextPrimaryBrush}"
							   Margin="0,0,0,4"/>
					<TextBox x:Name="NegativePromptTextBox"
							 Text="{Binding NegativePrompt, UpdateSourceTrigger=PropertyChanged}"
							 Height="60"
							 TextWrapping="Wrap"
							 AcceptsReturn="True"
							 Background="{StaticResource TertiaryDarkBrush}"
							 Foreground="{StaticResource TextPrimaryBrush}"
							 BorderBrush="{StaticResource BorderBrush}"
							 Margin="0,0,0,12"/>

					<!-- Generate Button -->
					<Button Content="Generate Video"
							Command="{Binding GenerateCommand}"
							Style="{StaticResource PrimaryButtonStyle}"
							Height="40"
							Margin="0,0,0,16"/>

					<!-- Video Settings -->
					<TextBlock Text="Video Settings"
							   Foreground="{StaticResource TextPrimaryBrush}"
							   FontSize="14"
							   FontWeight="Bold"
							   Margin="0,0,0,8"/>

					<!-- Duration -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="Duration:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider x:Name="DurationSlider"
								Value="{Binding DurationSeconds}"
								Minimum="1"
								Maximum="30"
								Width="140"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding DurationSeconds, StringFormat='F1s'}"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="50"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Frame Rate -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="FPS:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<ComboBox SelectedValue="{Binding FrameRate}"
								  Width="140"
								  Style="{StaticResource DarkComboBoxStyle}"
								  Margin="8,0,0,0">
							<ComboBoxItem Content="12" />
							<ComboBoxItem Content="24" IsSelected="True"/>
							<ComboBoxItem Content="30" />
							<ComboBoxItem Content="60" />
						</ComboBox>
					</StackPanel>

					<!-- Resolution -->
					<StackPanel Margin="0,0,0,12">
						<TextBlock Text="Resolution:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Margin="0,0,0,6"/>
						<ComboBox SelectedValue="{Binding Resolution}"
								  Style="{StaticResource DarkComboBoxStyle}"
								  Height="32">
							<ComboBoxItem Content="512x512" IsSelected="True"/>
							<ComboBoxItem Content="768x768"/>
							<ComboBoxItem Content="1024x1024"/>
							<ComboBoxItem Content="1280x720"/>
							<ComboBoxItem Content="1920x1080"/>
						</ComboBox>
					</StackPanel>

					<!-- Steps -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="Steps:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider x:Name="StepsSlider"
								Value="{Binding Steps}"
								Minimum="10"
								Maximum="50"
								Width="140"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding Steps}"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="50"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- CFG Scale -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="CFG:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider x:Name="CfgSlider"
								Value="{Binding CfgScale}"
								Minimum="1"
								Maximum="20"
								Width="140"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding CfgScale, StringFormat=F1}"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="50"
								   VerticalAlignment="Center"/>
					</StackPanel>

					<!-- Motion Control -->
					<TextBlock Text="Motion"
							   Foreground="{StaticResource TextPrimaryBrush}"
							   FontSize="14"
							   FontWeight="Bold"
							   Margin="0,12,0,8"/>

					<!-- Camera Movement -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="Camera:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<ComboBox SelectedValue="{Binding CameraMovement}"
								  Width="140"
								  Style="{StaticResource DarkComboBoxStyle}"
								  Margin="8,0,0,0"
								  Height="32">
							<ComboBoxItem Content="Static" IsSelected="True"/>
							<ComboBoxItem Content="Pan Left"/>
							<ComboBoxItem Content="Pan Right"/>
							<ComboBoxItem Content="Zoom In"/>
							<ComboBoxItem Content="Zoom Out"/>
							<ComboBoxItem Content="Circle"/>
						</ComboBox>
					</StackPanel>

					<!-- Motion Intensity -->
					<StackPanel Orientation="Horizontal" Margin="0,0,0,12">
						<TextBlock Text="Intensity:"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="80"
								   VerticalAlignment="Center"/>
						<Slider x:Name="MotionSlider"
								Value="{Binding MotionIntensity}"
								Minimum="0"
								Maximum="1"
								Width="140"
								VerticalAlignment="Center"
								Margin="8,0,8,0"/>
						<TextBlock Text="{Binding MotionIntensity, StringFormat=F2}"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   Width="50"
								   VerticalAlignment="Center"/>
					</StackPanel>
				</StackPanel>
			</ScrollViewer>
		</Border>

		<!-- Left Splitter -->
		<GridSplitter Grid.Column="0"
					  Width="4"
					  Background="{StaticResource BorderBrush}"
					  HorizontalAlignment="Right"
					  VerticalAlignment="Stretch"/>

		<!-- Center: Generated Video Display -->
		<Border Grid.Column="1"
				Background="{StaticResource TertiaryDarkBrush}"
				Margin="0,8">
			<Grid>
				<TextBlock Text="Generated videos will appear here"
						   Foreground="{StaticResource TextPrimaryBrush}"
						   HorizontalAlignment="Center"
						   VerticalAlignment="Center"
						   Visibility="{Binding HasGeneratedVideo, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
				
				<StackPanel HorizontalAlignment="Center"
							VerticalAlignment="Center"
							Visibility="{Binding HasGeneratedVideo, Converter={StaticResource BooleanToVisibilityConverter}}">
					<!-- Video Preview Placeholder -->
					<Border Background="#2a2a2a"
							Width="400"
							Height="300"
							CornerRadius="8"
							Margin="0,0,0,12">
						<TextBlock Text="🎬 Video Preview"
								   Foreground="{StaticResource TextPrimaryBrush}"
								   HorizontalAlignment="Center"
								   VerticalAlignment="Center"
								   FontSize="16"/>
					</Border>
					
					<!-- Video Controls -->
					<StackPanel Orientation="Horizontal"
								HorizontalAlignment="Center">
						<Button Content="▶" 
								Command="{Binding PlayCommand}"
								Style="{StaticResource SecondaryButtonStyle}"
								Width="40"
								Height="30"
								Margin="2"/>
						<Button Content="⏸" 
								Command="{Binding PauseCommand}"
								Style="{StaticResource SecondaryButtonStyle}"
								Width="40"
								Height="30"
								Margin="2"/>
						<Button Content="⏹" 
								Command="{Binding StopCommand}"
								Style="{StaticResource SecondaryButtonStyle}"
								Width="40"
								Height="30"
								Margin="2"/>
						<Button Content="💾" 
								Command="{Binding SaveCommand}"
								Style="{StaticResource SecondaryButtonStyle}"
								Width="40"
								Height="30"
								Margin="2"/>
					</StackPanel>
				</StackPanel>

				<!-- Progress Indicator -->
				<StackPanel HorizontalAlignment="Center"
							VerticalAlignment="Bottom"
							Margin="0,0,0,20"
							Visibility="{Binding IsGenerating, Converter={StaticResource BooleanToVisibilityConverter}}">
					<ProgressBar IsIndeterminate="True"
								 Height="4"
								 Width="300"
								 Background="{StaticResource SecondaryDarkBrush}"
								 Foreground="{StaticResource AccentRedBrush}"/>
					<TextBlock Text="{Binding GenerationStatus}"
							   Foreground="{StaticResource TextPrimaryBrush}"
							   HorizontalAlignment="Center"
							   Margin="0,8,0,0"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Right Splitter -->
		<GridSplitter Grid.Column="1"
					  Width="4"
					  Background="{StaticResource BorderBrush}"
					  HorizontalAlignment="Right"
					  VerticalAlignment="Stretch"/>

		<!-- Right Panel: Generation History -->
		<Border Grid.Column="2"
				Background="{StaticResource SecondaryDarkBrush}"
				CornerRadius="0,8,8,0"
				Margin="4,8,8,8">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>

				<TextBlock Grid.Row="0"
						   Text="Video History"
						   Foreground="{StaticResource TextPrimaryBrush}"
						   FontSize="14"
						   FontWeight="Bold"
						   Margin="12,12,12,8"/>

				<ListBox Grid.Row="1"
						 ItemsSource="{Binding GenerationHistory}"
						 Background="Transparent"
						 BorderThickness="0"
						 Margin="12,0">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<Border Background="{StaticResource TertiaryDarkBrush}"
									CornerRadius="4"
									Margin="0,2"
									Padding="8">
								<StackPanel>
									<!-- Video Thumbnail Placeholder -->
									<Border Background="#1a1a1a"
											Height="60"
											CornerRadius="4"
											Margin="0,0,0,8">
										<TextBlock Text="🎬"
												   Foreground="{StaticResource TextSecondaryBrush}"
												   HorizontalAlignment="Center"
												   VerticalAlignment="Center"
												   FontSize="20"/>
									</Border>
									
									<TextBlock Text="{Binding Prompt}"
											   Foreground="{StaticResource TextPrimaryBrush}"
											   TextWrapping="Wrap"
											   FontSize="11"
											   MaxHeight="40"
											   TextTrimming="CharacterEllipsis"/>
									
									<StackPanel Orientation="Horizontal"
												Margin="0,4,0,0">
										<TextBlock Text="{Binding DurationSeconds, StringFormat='F1s'}"
												   Foreground="{StaticResource TextSecondaryBrush}"
												   FontSize="9"/>
										<TextBlock Text=" • "
												   Foreground="{StaticResource TextSecondaryBrush}"
												   FontSize="9"/>
										<TextBlock Text="{Binding Resolution}"
												   Foreground="{StaticResource TextSecondaryBrush}"
												   FontSize="9"/>
									</StackPanel>
									
									<TextBlock Text="{Binding Timestamp}"
											   Foreground="{StaticResource TextSecondaryBrush}"
											   FontSize="10"
											   Margin="0,2,0,0"/>
								</StackPanel>
							</Border>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>
		</Border>
	</Grid>
</UserControl>