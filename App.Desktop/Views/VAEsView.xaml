<UserControl x:Class="Lazarus.Desktop.Views.VAEsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid Background="#1a1a1a" Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#0f0f0f" CornerRadius="8" Padding="16" Margin="0,0,0,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel>
                    <TextBlock Text="Variational Auto-Encoders" FontWeight="Bold" Foreground="White" FontSize="18"/>
                    <TextBlock Text="Encode/decode models for latent space translation" Foreground="#9ca3af" FontSize="12" Margin="0,2,0,0"/>
                </StackPanel>
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="Auto-Detect" Background="#374151" Foreground="White" BorderThickness="0" Padding="12,8" Margin="0,0,8,0"/>
                    <Button Content="Import VAE" Background="#8b5cf6" Foreground="White" BorderThickness="0" Padding="12,8"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="300"/>
            </Grid.ColumnDefinitions>

            <!-- VAE List -->
            <Border Grid.Column="0" Background="#0f0f0f" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- Currently Active -->
                        <TextBlock Text="Active VAE" FontWeight="SemiBold" Foreground="White" FontSize="14" Margin="0,0,0,12"/>
                        
                        <Border Background="#8b5cf6" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="vae-ft-mse-840000-ema-pruned.safetensors" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="High quality MSE-trained VAE • 334 MB" Foreground="#e0e7ff" FontSize="11" Margin="0,4,0,0"/>
                                    <TextBlock Text="Compatibility: SD 1.5, SD 2.0, SD 2.1" Foreground="#e0e7ff" FontSize="10" Margin="0,2,0,0"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <Button Content="Unload" Background="#6b46c1" Foreground="White" 
                                            BorderThickness="0" Padding="8,4" FontSize="11"/>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Available VAEs -->
                        <TextBlock Text="Available VAEs" FontWeight="SemiBold" Foreground="White" FontSize="14" Margin="0,0,0,12"/>
                        
                        <Border Background="#374151" CornerRadius="8" Padding="16" Margin="0,0,0,8" Cursor="Hand">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="vae-ft-ema-560000-ema-pruned.safetensors" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="Stable Diffusion 1.5 optimized • 334 MB" Foreground="#9ca3af" FontSize="11" Margin="0,4,0,0"/>
                                    <TextBlock Text="Best for photorealistic outputs" Foreground="#10b981" FontSize="10" Margin="0,2,0,0"/>
                                </StackPanel>
                                <Button Grid.Column="1" Content="Load" Background="#8b5cf6" Foreground="White" 
                                        BorderThickness="0" Padding="8,4"/>
                            </Grid>
                        </Border>

                        <Border Background="#374151" CornerRadius="8" Padding="16" Margin="0,0,0,8" Cursor="Hand">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="animevae.pt" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="Anime-optimized VAE • 334 MB" Foreground="#9ca3af" FontSize="11" Margin="0,4,0,0"/>
                                    <TextBlock Text="Enhanced colors and details for anime" Foreground="#10b981" FontSize="10" Margin="0,2,0,0"/>
                                </StackPanel>
                                <Button Grid.Column="1" Content="Load" Background="#8b5cf6" Foreground="White" 
                                        BorderThickness="0" Padding="8,4"/>
                            </Grid>
                        </Border>

                        <Border Background="#374151" CornerRadius="8" Padding="16" Margin="0,0,0,8" Cursor="Hand">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="sdxl_vae.safetensors" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <TextBlock Text="SDXL native VAE • 335 MB" Foreground="#9ca3af" FontSize="11" Margin="0,4,0,0"/>
                                    <TextBlock Text="Required for SDXL models" Foreground="#f59e0b" FontSize="10" Margin="0,2,0,0"/>
                                </StackPanel>
                                <Button Grid.Column="1" Content="Load" Background="#8b5cf6" Foreground="White" 
                                        BorderThickness="0" Padding="8,4"/>
                            </Grid>
                        </Border>

                        <!-- Auto VAE Option -->
                        <Border Background="#1f2937" CornerRadius="8" Padding="16" Margin="0,16,0,0">
                            <StackPanel>
                                <Grid Margin="0,0,0,8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="Automatic VAE Selection" Foreground="White" FontWeight="Bold" FontSize="14"/>
                                    <CheckBox Grid.Column="1" IsChecked="True" VerticalAlignment="Center"/>
                                </Grid>
                                <TextBlock Text="Automatically select best VAE based on the active checkpoint model" 
                                           Foreground="#9ca3af" FontSize="11" TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- Configuration Panel -->
            <Border Grid.Column="1" Background="#0f0f0f" CornerRadius="8" Padding="16">
                <StackPanel>
                    <TextBlock Text="VAE Configuration" FontWeight="Bold" Foreground="White" FontSize="16" Margin="0,0,0,16"/>
                    
                    <!-- Current VAE Info -->
                    <Border Background="#1a1a1a" CornerRadius="8" Padding="12" Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Active VAE Details" FontWeight="Bold" Foreground="White" FontSize="14" Margin="0,0,0,8"/>
                            <Grid Margin="0,0,0,4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Name:" Foreground="#9ca3af" Width="50"/>
                                <TextBlock Grid.Column="1" Text="vae-ft-mse-840000" Foreground="White" FontSize="11"/>
                            </Grid>
                            <Grid Margin="0,0,0,4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Size:" Foreground="#9ca3af" Width="50"/>
                                <TextBlock Grid.Column="1" Text="334 MB" Foreground="White" FontSize="11"/>
                            </Grid>
                            <Grid Margin="0,0,0,4">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Type:" Foreground="#9ca3af" Width="50"/>
                                <TextBlock Grid.Column="1" Text="MSE-trained" Foreground="White" FontSize="11"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Status:" Foreground="#9ca3af" Width="50"/>
                                <TextBlock Grid.Column="1" Text="Loaded" Foreground="#10b981" FontSize="11"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- VAE Settings -->
                    <TextBlock Text="Encoding Settings" FontWeight="SemiBold" Foreground="White" FontSize="14" Margin="0,0,0,8"/>
                    <Border Background="#1a1a1a" CornerRadius="8" Padding="12" Margin="0,0,0,16">
                        <StackPanel>
                            <CheckBox Content="Use half precision (FP16)" Foreground="White" IsChecked="True" Margin="0,0,0,8"/>
                            <CheckBox Content="Use CPU fallback for large images" Foreground="White" Margin="0,0,0,8"/>
                            <CheckBox Content="Tiled VAE decoding" Foreground="White" IsChecked="False" Margin="0,0,0,8"/>
                            
                            <Grid Margin="0,8,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="60"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Tile Size" Foreground="#9ca3af" VerticalAlignment="Center"/>
                                <TextBox Grid.Column="1" Text="512" Background="#374151" Foreground="White" 
                                         BorderThickness="0" Padding="4,2" TextAlignment="Center"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Quality Settings -->
                    <TextBlock Text="Quality Settings" FontWeight="SemiBold" Foreground="White" FontSize="14" Margin="0,0,0,8"/>
                    <Border Background="#1a1a1a" CornerRadius="8" Padding="12" Margin="0,0,0,16">
                        <StackPanel>
                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="80"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="Color Correction" Foreground="#9ca3af" VerticalAlignment="Center"/>
                                <ComboBox Grid.Column="1" Background="#374151" Foreground="White" BorderThickness="0" Padding="4,2">
                                    <ComboBoxItem Content="Auto" IsSelected="True"/>
                                    <ComboBoxItem Content="None"/>
                                    <ComboBoxItem Content="Manual"/>
                                </ComboBox>
                            </Grid>
                            
                            <CheckBox Content="Apply color fix" Foreground="White" IsChecked="True" Margin="0,0,0,4"/>
                            <CheckBox Content="Preserve original colors" Foreground="White" Margin="0,0,0,4"/>
                        </StackPanel>
                    </Border>

                    <!-- Actions -->
                    <Button Content="Test VAE Quality" Background="#8b5cf6" Foreground="White" 
                            BorderThickness="0" Padding="12,8" Margin="0,0,0,8" HorizontalAlignment="Stretch"/>
                    <Button Content="Compare VAEs" Background="#374151" Foreground="White" 
                            BorderThickness="0" Padding="12,8" Margin="0,0,0,8" HorizontalAlignment="Stretch"/>
                    <Button Content="Reset to Default" Background="#dc2626" Foreground="White" 
                            BorderThickness="0" Padding="12,8" HorizontalAlignment="Stretch"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>