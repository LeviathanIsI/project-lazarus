<UserControl x:Class="Lazarus.Desktop.Views.BaseModelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             Background="#0f0f0f"
             DataContext="{Binding RelativeSource={RelativeSource AncestorType=UserControl}}"> 

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Column: Model Selection & Sampling -->
            <StackPanel Grid.Column="0" Margin="0,0,8,0">
                <!-- Model Selection -->
                <Border Background="#1a1a1a" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Model Selection" FontWeight="Bold" Foreground="White" 
                                   FontSize="16" Margin="0,0,0,12"/>
                        
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- ComboBox bound to BaseModels -->
                            <ComboBox ItemsSource="{Binding BaseModels}" 
                                      SelectedItem="{Binding SelectedModel}" 
                                      DisplayMemberPath="Name"
                                      Background="Black" Foreground="White"/>
                            
                            <Button Grid.Column="1" Content="Load" 
        Background="#8b5cf6" Foreground="White" 
        BorderThickness="0" Padding="12,8" Margin="8,0,0,0"
        Command="{Binding LoadModelCommand}" 
        CommandParameter="{Binding SelectedModel}"/>

                        </Grid>

                        <TextBlock Text="Status: Loaded â€¢ VRAM: 18.2 GB" 
                                   Foreground="#10b981" 
                                   FontSize="12" Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Sampling Parameters -->
                <Border Background="#1a1a1a" CornerRadius="8" Padding="16">
                    <StackPanel>
                        <TextBlock Text="Sampling Parameters" FontWeight="Bold" Foreground="White" 
                                   FontSize="16" Margin="0,0,0,16"/>

                        <!-- Temperature -->
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="60"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Temperature" Foreground="#d1d5db" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="1" Text="0.7" Background="#374151" Foreground="White" 
                                     BorderThickness="0" Padding="8,4" TextAlignment="Center"/>
                        </Grid>
                        <Slider Value="0.7" Minimum="0" Maximum="2" TickFrequency="0.1" 
                                Margin="0,0,0,16" Foreground="#8b5cf6"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Right Column: System Prompt & Model Info -->
            <StackPanel Grid.Column="1" Margin="8,0,0,0">
                <!-- System Prompt -->
                <Border Background="#1a1a1a" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="System Prompt" FontWeight="Bold" Foreground="White" 
                                   FontSize="16" Margin="0,0,0,12"/>
                        <TextBox Background="#374151" Foreground="White" BorderThickness="0" 
                                 Padding="12" MinHeight="150" TextWrapping="Wrap" 
                                 AcceptsReturn="True" VerticalScrollBarVisibility="Auto"
                                 Text="You are a helpful, harmless, and honest AI assistant."/>
                    </StackPanel>
                </Border>

                <!-- Model Information -->
                <Border Background="#1a1a1a" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                    <StackPanel>
                        <TextBlock Text="Model Information" FontWeight="Bold" Foreground="White" 
                                   FontSize="16" Margin="0,0,0,12"/>
                        
                        <Grid Margin="0,0,0,6">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Size:" Foreground="#9ca3af" Width="80"/>
                            <TextBlock Grid.Column="1" Text="{Binding SelectedModel.Size}" Foreground="White"/>
                        </Grid>

                        <Grid Margin="0,0,0,6">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Context:" Foreground="#9ca3af" Width="80"/>
                            <TextBlock Grid.Column="1" Text="{Binding SelectedModel.ContextLength}" Foreground="White"/>
                        </Grid>

                        <Grid Margin="0,0,0,6">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Arch:" Foreground="#9ca3af" Width="80"/>
                            <TextBlock Grid.Column="1" Text="{Binding SelectedModel.Architecture}" Foreground="White"/>
                        </Grid>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="Quant:" Foreground="#9ca3af" Width="80"/>
                            <TextBlock Grid.Column="1" Text="{Binding SelectedModel.Quantization}" Foreground="White"/>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
