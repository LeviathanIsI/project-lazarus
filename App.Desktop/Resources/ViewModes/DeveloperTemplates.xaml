<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- DEVELOPER TIER: "Raw Technical Exposure" -->
    
    <!-- Model Selection Template - Technical Metrics -->
    <DataTemplate x:Key="ModelSelectionTemplate">
        <Border Margin="0,2" Padding="8" 
                Background="{DynamicResource SecondaryDarkBrush}"
                CornerRadius="4" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Model Info -->
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock Text="{Binding Name}" 
                               Style="{DynamicResource BodyTextStyle}"
                               Foreground="{DynamicResource TextPrimaryBrush}" FontWeight="Medium"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding ParameterCount}" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource AccentRedBrush}" FontSize="10"/>
                        <TextBlock Text="{Binding QuantizationType}" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}" FontSize="10" Margin="4,0"/>
                        <TextBlock Text="{Binding ContextLength, StringFormat=ctx:{0}}" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}" FontSize="10" Margin="4,0"/>
                    </StackPanel>
                </StackPanel>
                
                <!-- Memory Usage -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="8,0">
                    <TextBlock Text="{Binding MemoryUsage, StringFormat={}{0:F1}GB}" 
                               Style="{DynamicResource CodeTextStyle}"
                               HorizontalAlignment="Center" FontSize="10"
                               Foreground="{DynamicResource AccentYellowBrush}"/>
                    <TextBlock Text="RAM" 
                               Style="{DynamicResource CodeTextStyle}"
                               HorizontalAlignment="Center" FontSize="8"
                               Foreground="{DynamicResource TextMutedBrush}"/>
                </StackPanel>
                
                <!-- Performance -->
                <StackPanel Grid.Column="2" VerticalAlignment="Center" Margin="8,0">
                    <TextBlock Text="{Binding TokensPerSecond, StringFormat={}{0:F0}}" 
                               Style="{DynamicResource CodeTextStyle}"
                               HorizontalAlignment="Center" FontSize="10"
                               Foreground="{DynamicResource AccentGreenBrush}"/>
                    <TextBlock Text="tok/s" 
                               Style="{DynamicResource CodeTextStyle}"
                               HorizontalAlignment="Center" FontSize="8"
                               Foreground="{DynamicResource TextMutedBrush}"/>
                </StackPanel>
                
                <!-- Action -->
                <Button Grid.Column="3" Content=">" 
                        Style="{DynamicResource GhostButtonStyle}"
                        Width="24" Height="24" FontSize="12"
                        Command="{Binding SelectCommand}"/>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- Parameter Control Template - Raw Values -->
    <DataTemplate x:Key="ParameterControlTemplate">
        <Border Margin="0,4" Padding="6" 
                Background="{DynamicResource TertiaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Parameter Name -->
                <TextBlock Grid.Column="0" Text="{Binding TechnicalName}" 
                           Style="{DynamicResource CodeTextStyle}"
                           FontWeight="SemiBold" VerticalAlignment="Center"
                           Foreground="{DynamicResource TextPrimaryBrush}" FontSize="10"/>
                
                <!-- Slider -->
                <Slider Grid.Column="1" 
                        Value="{Binding Value}" 
                        Minimum="{Binding Minimum}" 
                        Maximum="{Binding Maximum}"
                        TickFrequency="{Binding TickFrequency}"
                        IsSnapToTickEnabled="False"
                        Margin="8,0"/>
                
                <!-- Value Input -->
                <TextBox Grid.Column="2" 
                         Text="{Binding Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F4}" 
                         Style="{DynamicResource CodeTextBoxStyle}"
                         FontSize="9" Padding="4,2"
                         HorizontalContentAlignment="Right"/>
                
                <!-- Reset -->
                <Button Grid.Column="3" Content="↺" 
                        Style="{DynamicResource GhostButtonStyle}"
                        Width="18" Height="18" FontSize="10" Margin="4,0,0,0"
                        Command="{Binding ResetCommand}"
                        ToolTip="Reset to default"/>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- Status Display Template - Technical Metrics -->
    <DataTemplate x:Key="StatusDisplayTemplate">
        <Border Padding="8" 
                Background="{DynamicResource SecondaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Status Code -->
                <TextBlock Grid.Column="0" Text="{Binding StatusCode}" 
                           Style="{DynamicResource CodeTextStyle}"
                           FontWeight="Bold" VerticalAlignment="Center"
                           Foreground="{DynamicResource AccentGreenBrush}" FontSize="10"/>
                
                <!-- Details -->
                <TextBlock Grid.Column="1" Text="{Binding TechnicalDetails}" 
                           Style="{DynamicResource CodeTextStyle}"
                           VerticalAlignment="Center" Margin="8,0,8,0"
                           Foreground="{DynamicResource TextSecondaryBrush}" FontSize="9"/>
                
                <!-- Metrics -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="{Binding CpuUsage, StringFormat=CPU:{0:F1}%}" 
                               Style="{DynamicResource CodeTextStyle}"
                               Foreground="{DynamicResource AccentYellowBrush}" FontSize="8" Margin="0,0,4,0"/>
                    <TextBlock Text="{Binding MemoryUsage, StringFormat=MEM:{0:F0}MB}" 
                               Style="{DynamicResource CodeTextStyle}"
                               Foreground="{DynamicResource AccentRedBrush}" FontSize="8"/>
                </StackPanel>
                
                <!-- Timestamp -->
                <TextBlock Grid.Column="3" Text="{Binding Timestamp, StringFormat=HH:mm:ss.fff}" 
                           Style="{DynamicResource CodeTextStyle}"
                           VerticalAlignment="Center" FontSize="8"
                           Foreground="{DynamicResource TextMutedBrush}"/>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- Error Display Template - Stack Trace Ready -->
    <DataTemplate x:Key="ErrorDisplayTemplate">
        <Border Padding="8" 
                Background="{DynamicResource ErrorBackgroundBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource ErrorBrush}" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Error Header -->
                <Grid Grid.Row="0" Margin="0,0,0,4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="{Binding ExceptionType}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontWeight="Bold" VerticalAlignment="Center"
                               Foreground="{DynamicResource ErrorBrush}" FontSize="10"/>
                    
                    <TextBlock Grid.Column="1" Text="{Binding Source}" 
                               Style="{DynamicResource CodeTextStyle}"
                               VerticalAlignment="Center" Margin="8,0"
                               Foreground="{DynamicResource TextMutedBrush}" FontSize="9"/>
                    
                    <TextBlock Grid.Column="2" Text="{Binding ErrorCode}" 
                               Style="{DynamicResource CodeTextStyle}"
                               VerticalAlignment="Center" FontSize="8"
                               Foreground="{DynamicResource TextMutedBrush}"/>
                </Grid>
                
                <!-- Stack Trace -->
                <ScrollViewer Grid.Row="1" MaxHeight="120" VerticalScrollBarVisibility="Auto">
                    <TextBlock Text="{Binding StackTrace}" 
                               Style="{DynamicResource CodeTextStyle}"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               FontSize="8" TextWrapping="Wrap"/>
                </ScrollViewer>
                
                <!-- Actions -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,4,0,0">
                    <Button Content="↻" 
                            Style="{DynamicResource GhostButtonStyle}"
                            Width="20" Height="20" FontSize="10" Margin="0,0,4,0"
                            Command="{Binding RetryCommand}" ToolTip="Retry"/>
                    <Button Content="📋" 
                            Style="{DynamicResource GhostButtonStyle}"
                            Width="20" Height="20" FontSize="10"
                            Command="{Binding CopyCommand}" ToolTip="Copy to clipboard"/>
                </StackPanel>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- Chat Message Template - Terminal Style -->
    <DataTemplate x:Key="ChatMessageTemplate">
        <Border Margin="2,1" Padding="6" MaxWidth="800"
                Background="{DynamicResource PrimaryDarkBrush}"
                BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,0,1"
                HorizontalAlignment="Stretch">
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Timestamp -->
                <TextBlock Grid.Column="0" Text="{Binding Timestamp, StringFormat=HH:mm:ss}" 
                           Style="{DynamicResource CodeTextStyle}"
                           Foreground="{DynamicResource TextMutedBrush}" FontSize="8"
                           VerticalAlignment="Top"/>
                
                <!-- Role -->
                <TextBlock Grid.Column="1" Text="{Binding Role}" 
                           Style="{DynamicResource CodeTextStyle}"
                           Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9" FontWeight="Bold"
                           VerticalAlignment="Top"/>
                
                <!-- Content -->
                <TextBlock Grid.Column="2" Text="{Binding Content}" 
                           Style="{DynamicResource CodeTextStyle}"
                           Foreground="{DynamicResource TextPrimaryBrush}"
                           TextWrapping="Wrap" FontSize="10" Margin="8,0"/>
                
                <!-- Metrics -->
                <StackPanel Grid.Column="3" VerticalAlignment="Top">
                    <TextBlock Text="{Binding TokenCount, StringFormat=t:{0}}" 
                               Style="{DynamicResource CodeTextStyle}"
                               Foreground="{DynamicResource AccentGreenBrush}" FontSize="7"
                               HorizontalAlignment="Right"/>
                    <TextBlock Text="{Binding ProcessingTime, StringFormat={}{0:F0}ms}" 
                               Style="{DynamicResource CodeTextStyle}"
                               Foreground="{DynamicResource AccentYellowBrush}" FontSize="7"
                               HorizontalAlignment="Right"/>
                </StackPanel>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- LoRA Card Template - Maximum Density, Minimal Explanations -->
    <DataTemplate x:Key="LoRACardTemplate">
        <Border Margin="0,0,8,8"
                MinWidth="200" MaxWidth="240"
                Padding="8"
                Background="{DynamicResource SecondaryDarkBrush}"
                CornerRadius="4"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1">
            
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Header - Dense Technical Info -->
                <Grid Grid.Row="0" Margin="0,0,0,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Text="{Binding Name}"
                               Style="{DynamicResource BodyTextStyle}"
                               Foreground="{DynamicResource TextPrimaryBrush}"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"/>
                    
                    <!-- Technical Metadata -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="4,0,0,0">
                        <TextBlock Text="r16"
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}"
                                   FontSize="10"
                                   Margin="0,0,4,0"/>
                        <TextBlock Text="α16"
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource TextMutedBrush}"
                                   FontSize="10"/>
                    </StackPanel>
                </Grid>
                
                <!-- Weight Control - Minimal UI -->
                <Grid Grid.Row="1" Margin="0,0,0,6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <Slider Grid.Column="0"
                            Value="{Binding Weight}"
                            Minimum="0" Maximum="2"
                            TickFrequency="0.01"
                            IsSnapToTickEnabled="False"
                            Margin="0,0,6,0"/>
                    
                    <TextBlock Grid.Column="1"
                               Text="{Binding Weight, StringFormat=F3}"
                               Style="{DynamicResource CodeTextStyle}"
                               Foreground="{DynamicResource AccentRedBrush}"
                               VerticalAlignment="Center"
                               MinWidth="40"/>
                </Grid>
                
                <!-- Actions - Ultra Compact -->
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="✓"
                            Style="{DynamicResource GhostButtonStyle}"
                            Command="{Binding ApplyCommand}"
                            Width="20" Height="20"
                            FontSize="10"
                            ToolTip="Apply"
                            Margin="0,0,2,0"/>
                    <Button Content="✗"
                            Style="{DynamicResource GhostButtonStyle}"
                            Command="{Binding RemoveCommand}"
                            Width="20" Height="20"
                            FontSize="10"
                            Foreground="{DynamicResource ErrorBrush}"
                            ToolTip="Remove"/>
                </StackPanel>
            </Grid>
        </Border>
    </DataTemplate>

    <!-- Chat Status Template - Raw Technical -->
    <DataTemplate x:Key="ChatStatusTemplate">
        <Border Padding="16" 
                Background="{DynamicResource PrimaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" MaxWidth="400">
                <TextBlock Text="[NULL] MODEL_INSTANCE"
                           Style="{DynamicResource CodeTextStyle}"
                           FontSize="16" FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Foreground="{DynamicResource ErrorBrush}"
                           Margin="0,0,0,8"/>
                           
                <TextBlock Text="INIT_STATE: AWAITING_MODEL_LOAD"
                           Style="{DynamicResource CodeTextStyle}"
                           FontSize="12" HorizontalAlignment="Center"
                           Foreground="{DynamicResource TextMutedBrush}"
                           Margin="0,0,0,12"/>
                           
                <Border Background="{DynamicResource TertiaryDarkBrush}" 
                        CornerRadius="3" Padding="12">
                    <TextBlock Text="→ Load model via RunnerRegistry.LoadModel() ← Navigate: /models"
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="10" HorizontalAlignment="Center"/>
                </Border>
            </StackPanel>
        </Border>
    </DataTemplate>

    <!-- Float Parameter Template - Raw Technical Controls -->
    <DataTemplate x:Key="FloatParameterTemplate">
        <Border Margin="0,4" Padding="8" 
                Background="{DynamicResource TertiaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Technical Parameter Name -->
                <TextBlock Grid.Column="0" Text="{Binding TechnicalName}" 
                           Style="{DynamicResource CodeTextStyle}"
                           FontWeight="Bold" VerticalAlignment="Center"
                           FontSize="10"/>
                           
                <!-- Raw Slider -->
                <Slider Grid.Column="1" 
                        Value="{Binding Value}" 
                        Minimum="{Binding Minimum}" 
                        Maximum="{Binding Maximum}"
                        TickFrequency="{Binding TickFrequency}"
                        IsSnapToTickEnabled="False"
                        Height="20" Margin="8,0"/>
                        
                <!-- Precise Value Input -->
                <TextBox Grid.Column="2" 
                         Text="{Binding Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F6}" 
                         Style="{DynamicResource CodeTextBoxStyle}"
                         FontSize="9" Padding="4" TextAlignment="Right"
                         HorizontalContentAlignment="Right"/>
                         
                <!-- Reset to Default -->
                <Button Grid.Column="3" Content="↺" 
                        Style="{DynamicResource GhostButtonStyle}"
                        Width="16" Height="16" FontSize="8" Margin="4,0,0,0"
                        Command="{Binding ResetCommand}"
                        ToolTip="Reset to default"/>
            </Grid>
        </Border>
    </DataTemplate>

    <!-- Integer Parameter Template - Minimal Technical -->
    <DataTemplate x:Key="IntParameterTemplate">
        <Border Margin="0,4" Padding="8" 
                Background="{DynamicResource TertiaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="50"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" Text="{Binding TechnicalName}" 
                           Style="{DynamicResource CodeTextStyle}"
                           FontWeight="Bold" VerticalAlignment="Center" FontSize="10"/>
                           
                <Slider Grid.Column="1"
                        Value="{Binding Value}" 
                        Minimum="{Binding Minimum}" 
                        Maximum="{Binding Maximum}"
                        IsSnapToTickEnabled="True"
                        TickFrequency="1"
                        Height="20" Margin="8,0"/>
                        
                <TextBox Grid.Column="2" 
                         Text="{Binding Value, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{DynamicResource CodeTextBoxStyle}"
                         FontSize="9" Padding="2" TextAlignment="Right"/>
            </Grid>
        </Border>
    </DataTemplate>

    <!-- Boolean Parameter Template - Binary Switch -->
    <DataTemplate x:Key="BoolParameterTemplate">
        <Border Margin="0,4" Padding="8" 
                Background="{DynamicResource TertiaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" Text="{Binding TechnicalName}" 
                           Style="{DynamicResource CodeTextStyle}"
                           FontWeight="Bold" VerticalAlignment="Center" FontSize="10"/>
                           
                <CheckBox Grid.Column="1"
                          IsChecked="{Binding Value}"
                          VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </DataTemplate>

    <!-- Generation Progress Template - Technical Metrics -->
    <DataTemplate x:Key="GenerationProgressTemplate">
        <Border Padding="12" 
                Background="{DynamicResource PrimaryDarkBrush}"
                CornerRadius="3" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Technical Status Header -->
                <Grid Grid.Row="0" Margin="0,0,0,4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="{Binding OperationType}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontWeight="Bold" FontSize="11"/>
                    <TextBlock Grid.Column="1" Text="{Binding Progress, StringFormat='{}{0:F2}%'}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="10" Foreground="{DynamicResource AccentGreenBrush}"
                               Margin="8,0"/>
                    <TextBlock Grid.Column="2" Text="{Binding ElapsedTime, StringFormat='T+{0:mm\\:ss}'}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="9" Foreground="{DynamicResource TextMutedBrush}"/>
                </Grid>
                
                <!-- Progress Bar -->
                <ProgressBar Grid.Row="1" Value="{Binding Progress}" 
                             Height="4" 
                             Background="{DynamicResource TertiaryDarkBrush}"
                             Foreground="{DynamicResource AccentRedBrush}"
                             Margin="0,0,0,4"/>
                             
                <!-- Technical Metrics -->
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="{Binding GpuUtilization, StringFormat='GPU:{0:F0}%'}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="8" Foreground="{DynamicResource AccentYellowBrush}"/>
                    <TextBlock Grid.Column="1" Text="{Binding MemoryUsage, StringFormat='MEM:{0:F0}MB'}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="8" Foreground="{DynamicResource AccentRedBrush}"/>
                    <TextBlock Grid.Column="2" Text="{Binding TokensProcessed, StringFormat='TOK:{0}'}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="8" Foreground="{DynamicResource AccentGreenBrush}"/>
                    <TextBlock Grid.Column="3" Text="{Binding ProcessingRate, StringFormat={}{0:F1}/s}" 
                               Style="{DynamicResource CodeTextStyle}"
                               FontSize="8" Foreground="{DynamicResource AccentPurpleBrush}"/>
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>

    <!-- Text2Image Template - Raw Technical Interface -->
    <DataTemplate x:Key="Text2ImageTemplate">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="240"/>
            </Grid.ColumnDefinitions>
            
            <!-- Raw Controls -->
            <Border Grid.Column="0" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="4,0,0,4" Padding="12">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="DIFFUSION_PIPELINE" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource AccentRedBrush}" FontWeight="Bold"
                                   Margin="0,0,0,12"/>
                        
                        <!-- Raw Prompt -->
                        <TextBlock Text="prompt_tokens[]" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <TextBox Style="{DynamicResource CodeTextBoxStyle}" MinHeight="60" FontFamily="Consolas" FontSize="9" 
                                 TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,8"/>
                        
                        <TextBlock Text="negative_prompt[]" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <TextBox Style="{DynamicResource CodeTextBoxStyle}" MinHeight="40" FontFamily="Consolas" FontSize="9"
                                 TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,12"/>
                        
                        <!-- Technical Parameters Grid -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="steps" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="0" Grid.Column="1" Value="20" Minimum="1" Maximum="100" Margin="4,2"/>
                            <TextBox Grid.Row="0" Grid.Column="2" Text="20" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="cfg_scale" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="1" Grid.Column="1" Value="7.0" Minimum="1" Maximum="30" Margin="4,2"/>
                            <TextBox Grid.Row="1" Grid.Column="2" Text="7.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="width" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="2" Grid.Column="1" Value="512" Minimum="64" Maximum="2048" Margin="4,2"/>
                            <TextBox Grid.Row="2" Grid.Column="2" Text="512" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="height" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="3" Grid.Column="1" Value="512" Minimum="64" Maximum="2048" Margin="4,2"/>
                            <TextBox Grid.Row="3" Grid.Column="2" Text="512" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="seed" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="4" Grid.Column="1" Value="-1" Minimum="-1" Maximum="2147483647" Margin="4,2"/>
                            <TextBox Grid.Row="4" Grid.Column="2" Text="-1" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="5" Grid.Column="0" Text="strength" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="5" Grid.Column="1" Value="0.75" Minimum="0" Maximum="1" Margin="4,2"/>
                            <TextBox Grid.Row="5" Grid.Column="2" Text="0.75" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                        </Grid>
                        
                        <Button Content="EXEC_PIPELINE()" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Padding="0,8" FontSize="9" FontFamily="Consolas" Margin="0,12,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
            
            <!-- Raw Output Display -->
            <Border Grid.Column="1" Background="{DynamicResource TertiaryDarkBrush}" 
                    Padding="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1,0">
                <Grid>
                    <Border Background="{DynamicResource PrimaryDarkBrush}" 
                            CornerRadius="4" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="BUFFER_NULL" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource TextMutedBrush}" FontSize="10"/>
                            <TextBlock Text="[AWAITING_DIFFUSION_OUTPUT]" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource AccentYellowBrush}" FontSize="8"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Debug Overlay -->
                    <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Left" 
                                Margin="8" Background="{DynamicResource SecondaryDarkBrush}">
                        <TextBlock Text="GPU_MEM: 0MB | VRAM_UTIL: 0%" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                        <TextBlock Text="INFERENCE_TIME: 0.0ms" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Raw History Log -->
            <Border Grid.Column="2" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="0,4,4,0" Padding="8">
                <StackPanel>
                    <TextBlock Text="GENERATION_LOG" 
                               Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                               Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9"
                               Margin="0,0,0,8"/>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="400">
                        <TextBlock Text="[EMPTY_QUEUE]" 
                                   Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                   Foreground="{DynamicResource TextMutedBrush}" FontSize="8"/>
                    </ScrollViewer>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- Text2Video Template - Raw Video Pipeline -->
    <DataTemplate x:Key="Text2VideoTemplate">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="240"/>
            </Grid.ColumnDefinitions>
            
            <!-- Video Pipeline Controls -->
            <Border Grid.Column="0" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="4,0,0,4" Padding="12">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="VIDEO_PIPELINE" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource AccentRedBrush}" FontWeight="Bold"
                                   Margin="0,0,0,12"/>
                        
                        <TextBlock Text="motion_prompt[]" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <TextBox Style="{DynamicResource CodeTextBoxStyle}" MinHeight="60" FontFamily="Consolas" FontSize="9" 
                                 TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,12"/>
                        
                        <!-- Video Parameters -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="frames" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="0" Grid.Column="1" Value="16" Minimum="8" Maximum="128" Margin="4,2"/>
                            <TextBox Grid.Row="0" Grid.Column="2" Text="16" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="fps" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="1" Grid.Column="1" Value="30" Minimum="12" Maximum="60" Margin="4,2"/>
                            <TextBox Grid.Row="1" Grid.Column="2" Text="30" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="motion" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="2" Grid.Column="1" Value="0.7" Minimum="0" Maximum="1" Margin="4,2"/>
                            <TextBox Grid.Row="2" Grid.Column="2" Text="0.7" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="noise" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="3" Grid.Column="1" Value="0.1" Minimum="0" Maximum="1" Margin="4,2"/>
                            <TextBox Grid.Row="3" Grid.Column="2" Text="0.1" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="seed" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="4" Grid.Column="1" Value="-1" Minimum="-1" Maximum="2147483647" Margin="4,2"/>
                            <TextBox Grid.Row="4" Grid.Column="2" Text="-1" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                        </Grid>
                        
                        <Button Content="EXEC_VIDEO_GEN()" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Padding="0,8" FontSize="9" FontFamily="Consolas" Margin="0,12,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
            
            <!-- Video Buffer Display -->
            <Border Grid.Column="1" Background="{DynamicResource TertiaryDarkBrush}" 
                    Padding="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1,0">
                <Grid>
                    <Border Background="{DynamicResource PrimaryDarkBrush}" 
                            CornerRadius="4" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" MinHeight="300">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="VIDEO_BUFFER_NULL" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource TextMutedBrush}" FontSize="10"/>
                            <TextBlock Text="[FRAME_BUFFER_EMPTY]" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource AccentYellowBrush}" FontSize="8"/>
                            <TextBlock Text="RES: 0x0 | CODEC: NULL" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource TextMutedBrush}" FontSize="7" Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Video Debug Info -->
                    <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Left" 
                                Margin="8" Background="{DynamicResource SecondaryDarkBrush}">
                        <TextBlock Text="FRAME_IDX: 0/0 | ENCODE_FPS: 0" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                        <TextBlock Text="BITRATE: 0kbps | SIZE: 0MB" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Video Queue -->
            <Border Grid.Column="2" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="0,4,4,0" Padding="8">
                <StackPanel>
                    <TextBlock Text="RENDER_QUEUE" 
                               Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                               Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9"
                               Margin="0,0,0,8"/>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="400">
                        <TextBlock Text="[QUEUE_EMPTY]" 
                                   Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                   Foreground="{DynamicResource TextMutedBrush}" FontSize="8"/>
                    </ScrollViewer>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- TTS Configuration Template - Raw Audio Pipeline -->
    <DataTemplate x:Key="TTSConfigurationTemplate">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="240"/>
            </Grid.ColumnDefinitions>
            
            <!-- Audio Engine Controls -->
            <Border Grid.Column="0" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="4,0,0,4" Padding="12">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="AUDIO_ENGINE" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource AccentRedBrush}" FontWeight="Bold"
                                   Margin="0,0,0,12"/>
                        
                        <TextBlock Text="input_text[]" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <TextBox Style="{DynamicResource CodeTextBoxStyle}" MinHeight="80" FontFamily="Consolas" FontSize="9" 
                                 TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,12"/>
                        
                        <!-- Voice Model Selection -->
                        <TextBlock Text="voice_model" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <ComboBox Style="{DynamicResource DarkComboBoxStyle}" Margin="0,0,0,8" FontFamily="Consolas" FontSize="8">
                            <ComboBoxItem Content="neural_a.pth"/>
                            <ComboBoxItem Content="neural_b.pth"/>
                            <ComboBoxItem Content="custom.onnx"/>
                        </ComboBox>
                        
                        <!-- Audio Parameters -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="rate" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="0" Grid.Column="1" Value="1.0" Minimum="0.1" Maximum="3.0" Margin="4,2"/>
                            <TextBox Grid.Row="0" Grid.Column="2" Text="1.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="pitch" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="1" Grid.Column="1" Value="0" Minimum="-24" Maximum="24" Margin="4,2"/>
                            <TextBox Grid.Row="1" Grid.Column="2" Text="0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="volume" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="2" Grid.Column="1" Value="0.8" Minimum="0" Maximum="1" Margin="4,2"/>
                            <TextBox Grid.Row="2" Grid.Column="2" Text="0.8" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="freq" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="3" Grid.Column="1" Value="22050" Minimum="8000" Maximum="48000" Margin="4,2"/>
                            <TextBox Grid.Row="3" Grid.Column="2" Text="22050" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="buffer" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="4" Grid.Column="1" Value="1024" Minimum="256" Maximum="4096" Margin="4,2"/>
                            <TextBox Grid.Row="4" Grid.Column="2" Text="1024" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                        </Grid>
                        
                        <Button Content="SYNTHESIZE()" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Padding="0,8" FontSize="9" FontFamily="Consolas" Margin="0,12,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
            
            <!-- Waveform Buffer -->
            <Border Grid.Column="1" Background="{DynamicResource TertiaryDarkBrush}" 
                    Padding="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1,0">
                <Grid>
                    <Border Background="{DynamicResource PrimaryDarkBrush}" 
                            CornerRadius="4" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="AUDIO_BUFFER_NULL" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource TextMutedBrush}" FontSize="10"/>
                            <TextBlock Text="[SAMPLES: 0 | DURATION: 0.0s]" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource AccentYellowBrush}" FontSize="8"/>
                            <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                                <Button Content="PLAY" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="8" Margin="0,0,4,0"/>
                                <Button Content="STOP" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="8" Margin="0,0,4,0"/>
                                <Button Content="DUMP" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="8"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- Audio Debug -->
                    <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Left" 
                                Margin="8" Background="{DynamicResource SecondaryDarkBrush}">
                        <TextBlock Text="BITDEPTH: 0 | CHANNELS: 0" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                        <TextBlock Text="LATENCY: 0ms | BUFFER_FILL: 0%" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Voice Models -->
            <Border Grid.Column="2" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="0,4,4,0" Padding="8">
                <StackPanel>
                    <TextBlock Text="VOICE_REGISTRY" 
                               Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                               Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9"
                               Margin="0,0,0,8"/>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="400">
                        <StackPanel>
                            <Border Background="{DynamicResource TertiaryDarkBrush}" 
                                    CornerRadius="2" Padding="6" Margin="0,0,0,4">
                                <StackPanel>
                                    <TextBlock Text="neural_b.pth" Style="{DynamicResource CodeTextStyle}" FontSize="8" FontWeight="Bold"/>
                                    <TextBlock Text="F | EN | 22kHz" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                    <Button Content="LOAD" Style="{DynamicResource GhostButtonStyle}" 
                                            FontFamily="Consolas" FontSize="7" Padding="2" 
                                            Margin="0,2,0,0" HorizontalAlignment="Left"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- Entity Creation Template - Raw Entity Compiler -->
    <DataTemplate x:Key="EntityCreationTemplate">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="240"/>
            </Grid.ColumnDefinitions>
            
            <!-- Entity Compiler -->
            <Border Grid.Column="0" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="4,0,0,4" Padding="12">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="ENTITY_COMPILER" 
                                   Style="{DynamicResource CodeTextStyle}"
                                   Foreground="{DynamicResource AccentRedBrush}" FontWeight="Bold"
                                   Margin="0,0,0,12"/>
                        
                        <!-- Raw Entity Configuration -->
                        <TextBlock Text="entity_id" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <TextBox Style="{DynamicResource CodeTextBoxStyle}" FontFamily="Consolas" FontSize="9" Margin="0,0,0,6"/>
                        
                        <TextBlock Text="entity_class" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <ComboBox Style="{DynamicResource DarkComboBoxStyle}" FontFamily="Consolas" FontSize="8" Margin="0,0,0,6">
                            <ComboBoxItem Content="ASSISTANT"/>
                            <ComboBoxItem Content="EXPERT"/>
                            <ComboBoxItem Content="CREATIVE"/>
                            <ComboBoxItem Content="TECHNICAL"/>
                        </ComboBox>
                        
                        <TextBlock Text="system_prompt[]" Style="{DynamicResource CodeTextStyle}" FontSize="9" Margin="0,0,0,2"/>
                        <TextBox Style="{DynamicResource CodeTextBoxStyle}" MinHeight="60" FontFamily="Consolas" FontSize="8" 
                                 TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,12"/>
                        
                        <!-- Behavioral Parameters -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="40"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="temp" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="0" Grid.Column="1" Value="0.7" Minimum="0" Maximum="2" Margin="4,2"/>
                            <TextBox Grid.Row="0" Grid.Column="2" Text="0.7" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="top_p" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="1" Grid.Column="1" Value="0.9" Minimum="0" Maximum="1" Margin="4,2"/>
                            <TextBox Grid.Row="1" Grid.Column="2" Text="0.9" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="top_k" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="2" Grid.Column="1" Value="40" Minimum="1" Maximum="100" Margin="4,2"/>
                            <TextBox Grid.Row="2" Grid.Column="2" Text="40" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="rep_pen" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="3" Grid.Column="1" Value="1.1" Minimum="0.8" Maximum="1.5" Margin="4,2"/>
                            <TextBox Grid.Row="3" Grid.Column="2" Text="1.1" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="max_tok" Style="{DynamicResource CodeTextStyle}" FontSize="8" VerticalAlignment="Center"/>
                            <Slider Grid.Row="4" Grid.Column="1" Value="512" Minimum="32" Maximum="4096" Margin="4,2"/>
                            <TextBox Grid.Row="4" Grid.Column="2" Text="512" Style="{DynamicResource CodeTextBoxStyle}" FontSize="8"/>
                        </Grid>
                        
                        <Button Content="COMPILE_ENTITY()" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Padding="0,8" FontSize="9" FontFamily="Consolas" Margin="0,12,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
            
            <!-- 3D Renderer Buffer -->
            <Border Grid.Column="1" Background="{DynamicResource TertiaryDarkBrush}" 
                    Padding="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1,0">
                <Grid>
                    <Border Background="{DynamicResource PrimaryDarkBrush}" 
                            CornerRadius="4" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="3D_RENDERER_NULL" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource TextMutedBrush}" FontSize="10"/>
                            <TextBlock Text="[MESH_BUFFER_EMPTY]" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource AccentYellowBrush}" FontSize="8"/>
                            <TextBlock Text="VERTICES: 0 | TRIS: 0 | MAT: 0" 
                                       Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                       Foreground="{DynamicResource TextMutedBrush}" FontSize="7" Margin="0,8,0,0"/>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                                <Button Content="ROT" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="7" Margin="0,0,2,0"/>
                                <Button Content="PAN" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="7" Margin="0,0,2,0"/>
                                <Button Content="ZOM" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="7" Margin="0,0,2,0"/>
                                <Button Content="RST" Style="{DynamicResource GhostButtonStyle}" FontFamily="Consolas" FontSize="7"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- Renderer Debug -->
                    <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Left" 
                                Margin="8" Background="{DynamicResource SecondaryDarkBrush}">
                        <TextBlock Text="CAM: [0,0,0] | FOV: 60" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                        <TextBlock Text="FPS: 0 | DRAWCALLS: 0" 
                                   Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Entity Templates -->
            <Border Grid.Column="2" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="0,4,4,0" Padding="8">
                <StackPanel>
                    <TextBlock Text="ENTITY_TEMPLATES" 
                               Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                               Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9"
                               Margin="0,0,0,8"/>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="400">
                        <StackPanel>
                            <Border Background="{DynamicResource TertiaryDarkBrush}" 
                                    CornerRadius="2" Padding="6" Margin="0,0,0,4">
                                <StackPanel>
                                    <TextBlock Text="creative.json" Style="{DynamicResource CodeTextStyle}" FontSize="8" FontWeight="Bold"/>
                                    <TextBlock Text="temp:0.8|top_p:0.9|rep:1.0" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                    <Button Content="LOAD" Style="{DynamicResource GhostButtonStyle}" 
                                            FontFamily="Consolas" FontSize="7" Padding="2" 
                                            Margin="0,2,0,0" HorizontalAlignment="Left"/>
                                </StackPanel>
                            </Border>
                            
                            <Border Background="{DynamicResource TertiaryDarkBrush}" 
                                    CornerRadius="2" Padding="6" Margin="0,0,0,4">
                                <StackPanel>
                                    <TextBlock Text="technical.json" Style="{DynamicResource CodeTextStyle}" FontSize="8" FontWeight="Bold"/>
                                    <TextBlock Text="temp:0.3|top_p:0.7|rep:1.2" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                    <Button Content="LOAD" Style="{DynamicResource GhostButtonStyle}" 
                                            FontFamily="Consolas" FontSize="7" Padding="2" 
                                            Margin="0,2,0,0" HorizontalAlignment="Left"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- 3D Model Viewer Template - Raw 3D Engine -->
    <DataTemplate x:Key="ThreeDModelViewerTemplate">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="240"/>
            </Grid.ColumnDefinitions>
            
            <!-- File System -->
            <Border Grid.Column="0" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="4,0,0,4" Padding="8">
                <StackPanel>
                    <TextBlock Text="FILE_SYSTEM" 
                               Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                               Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9"
                               Margin="0,0,0,12"/>
                    
                    <TreeView Background="Transparent" BorderThickness="0" MaxHeight="350" FontFamily="Consolas" FontSize="8">
                        <TreeViewItem Header="/models/" IsExpanded="True">
                            <TreeViewItem Header="/chars/">
                                <TreeViewItem Header="wizard.fbx"/>
                                <TreeViewItem Header="astronaut.obj"/>
                            </TreeViewItem>
                            <TreeViewItem Header="/envs/">
                                <TreeViewItem Header="castle.blend"/>
                                <TreeViewItem Header="terrain.fbx"/>
                            </TreeViewItem>
                            <TreeViewItem Header="/objs/">
                                <TreeViewItem Header="sword.obj"/>
                                <TreeViewItem Header="book.fbx"/>
                            </TreeViewItem>
                        </TreeViewItem>
                    </TreeView>
                    
                    <StackPanel Margin="0,12,0,0">
                        <Button Content="LOAD_MESH()" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Padding="0,6" FontSize="8" FontFamily="Consolas" Margin="0,0,0,4"/>
                        <Button Content="IMPORT_FILE()" 
                                Style="{DynamicResource GhostButtonStyle}"
                                Padding="0,6" FontSize="8" FontFamily="Consolas"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- 3D Engine Viewport -->
            <Border Grid.Column="1" Background="{DynamicResource TertiaryDarkBrush}" 
                    Padding="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1,0">
                <Grid>
                    <Border Background="{DynamicResource PrimaryDarkBrush}" 
                            CornerRadius="4" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
                        <Grid>
                            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock Text="3D_ENGINE_NULL" 
                                           Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                           Foreground="{DynamicResource TextMutedBrush}" FontSize="10"/>
                                <TextBlock Text="[SCENE_EMPTY]" 
                                           Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                           Foreground="{DynamicResource AccentYellowBrush}" FontSize="8"/>
                                <TextBlock Text="RENDERER: NULL | SHADERS: 0" 
                                           Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                           Foreground="{DynamicResource TextMutedBrush}" FontSize="7" Margin="0,8,0,0"/>
                            </StackPanel>
                            
                            <!-- Engine Controls -->
                            <StackPanel VerticalAlignment="Top" HorizontalAlignment="Right" 
                                        Margin="8" Background="{DynamicResource SecondaryDarkBrush}"
                                        Orientation="Horizontal">
                                <Button Content="ORB" Style="{DynamicResource GhostButtonStyle}" 
                                        FontFamily="Consolas" FontSize="7" Width="28" Height="28"/>
                                <Button Content="PAN" Style="{DynamicResource GhostButtonStyle}" 
                                        FontFamily="Consolas" FontSize="7" Width="28" Height="28"/>
                                <Button Content="ZOM" Style="{DynamicResource GhostButtonStyle}" 
                                        FontFamily="Consolas" FontSize="7" Width="28" Height="28"/>
                                <Button Content="RST" Style="{DynamicResource GhostButtonStyle}" 
                                        FontFamily="Consolas" FontSize="7" Width="28" Height="28"/>
                            </StackPanel>
                            
                            <!-- Render Mode -->
                            <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Left" 
                                        Margin="8" Background="{DynamicResource SecondaryDarkBrush}">
                                <ComboBox Style="{DynamicResource DarkComboBoxStyle}" Width="100" FontFamily="Consolas" FontSize="8">
                                    <ComboBoxItem Content="SOLID"/>
                                    <ComboBoxItem Content="WIRE"/>
                                    <ComboBoxItem Content="TEX"/>
                                    <ComboBoxItem Content="LIT"/>
                                </ComboBox>
                            </StackPanel>
                            
                            <!-- Engine Debug -->
                            <StackPanel VerticalAlignment="Bottom" HorizontalAlignment="Right" 
                                        Margin="8" Background="{DynamicResource SecondaryDarkBrush}">
                                <TextBlock Text="FPS: 0" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                <TextBlock Text="VERTS: 0" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                <TextBlock Text="CALLS: 0" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
            
            <!-- Raw Properties -->
            <Border Grid.Column="2" Background="{DynamicResource SecondaryDarkBrush}" 
                    CornerRadius="0,4,4,0" Padding="8">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="MESH_PROPERTIES" 
                                   Style="{DynamicResource CodeTextStyle}" FontFamily="Consolas"
                                   Foreground="{DynamicResource AccentPurpleBrush}" FontSize="9"
                                   Margin="0,0,0,12"/>
                        
                        <!-- Transform Matrix -->
                        <TextBlock Text="transform_matrix" Style="{DynamicResource CodeTextStyle}" FontSize="8" Margin="0,0,0,4"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Position -->
                            <TextBox Grid.Row="0" Grid.Column="0" Text="0.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="0,0,1,1"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Text="0.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="1,0,1,1"/>
                            <TextBox Grid.Row="0" Grid.Column="2" Text="0.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="1,0,0,1"/>
                            
                            <!-- Rotation -->
                            <TextBox Grid.Row="1" Grid.Column="0" Text="0.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="0,1,1,1"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Text="0.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="1,1,1,1"/>
                            <TextBox Grid.Row="1" Grid.Column="2" Text="0.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="1,1,0,1"/>
                            
                            <!-- Scale -->
                            <TextBox Grid.Row="2" Grid.Column="0" Text="1.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="0,1,1,0"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="1.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="1,1,1,0"/>
                            <TextBox Grid.Row="2" Grid.Column="2" Text="1.0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="1,1,0,0"/>
                        </Grid>
                        
                        <!-- Mesh Stats -->
                        <TextBlock Text="mesh_stats" Style="{DynamicResource CodeTextStyle}" FontSize="8" Margin="0,12,0,4"/>
                        <StackPanel>
                            <Grid Margin="0,0,0,2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="verts:" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                <TextBox Grid.Column="1" Text="0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="4,0,0,0"/>
                            </Grid>
                            
                            <Grid Margin="0,0,0,2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="tris:" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                <TextBox Grid.Column="1" Text="0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="4,0,0,0"/>
                            </Grid>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="mats:" Style="{DynamicResource CodeTextStyle}" FontSize="7"/>
                                <TextBox Grid.Column="1" Text="0" Style="{DynamicResource CodeTextBoxStyle}" FontSize="7" Margin="4,0,0,0"/>
                            </Grid>
                        </StackPanel>
                        
                        <Button Content="EXPORT_MESH()" 
                                Style="{DynamicResource PrimaryButtonStyle}"
                                Padding="0,6" FontSize="8" FontFamily="Consolas" Margin="0,16,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </DataTemplate>
    
</ResourceDictionary>